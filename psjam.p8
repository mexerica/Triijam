pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _draw()
	cls(0)
	shake()
	print(sub(text0,0,spot), 7) 
	for i=1,3 do ngon(bk[i]) end
	tambor()
	spr(enemy.x, 50, 25, 4, 4, 1)
end

function _update()
	val = spot % (#text0+1)  
	if (val > 0) spot+=1
	for i=1,3 do
		bk[i] -= 1
		if (bk[i] == 0) then bk[i] = 150 end
	end
	if (btnp(0)) then trocar(1) end
	if (btnp(1)) then trocar(6)	end
	if (btnp(2)) then atirar() end
end
-->8
function tambor()
	circ(65, 70, 9, 8)
	circfill(65, 70, 8, mun[1])
	circ(65, 70, 4, mun[1] - 1)
	circfill(85, 80, 8, mun[2])
	circfill(85, 100, 8, mun[3])
	circ(85, 100, 4, mun[3] - 1)
	circ(85, 80, 4, mun[2] - 1)
	circfill(65, 110, 8, mun[4])
	circ(65, 110, 4, mun[4] - 1)
	circfill(45, 100, 8, mun[5])
	circ(45, 100, 4, mun[5] - 1)
	circfill(45, 80, 8, mun[6])
	circ(45, 80, 4, mun[6] - 1)
end

function ngon(r)
  line(12)
  for i=0,8 do
    local angle = i/8
    line(64 + r*cos(angle), 64 + r*sin(angle))
  end
end

function shake()
 local shakex = 16-rnd(32)
 local shakey = 16-rnd(32)
 shakex *= int
 shakey *= int
 camera(shakex,shakey)
 int = int * 0.95
 if (int<0.05) then int = 0 end
end
-->8
function atirar()
	mun[1] = 0
	enemy.x = 5
	int = 2
end

function trocar(x)
	y = 6
	if (x == y) then y = 1 end
	save = mun[x] 
	deli(mun,x)
	add(mun, save, y)
end
-->8
bk = {50, 100, 150}
text0 = "come on, shoot me."
spot = 1
mun = {10, 10, 10, 10, 10, 0}
int = 0
enemy = {
	x = 1
}

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000077777770000000000000000000000000777777700000000000000000000000000000000000000000000000000000000000000000000
00077000000000000077788888887770000000000000000000777888888877700000000000000000000000000000000000000000000000000000000000000000
00077000000000000788888888888887000000000000000007888888888888870000000000000000000000000000000000000000000000000000000000000000
00700700000000077888888888888888770000000000000778888888088888887700000000000000000000000000000000000000000000000000000000000000
00000000000000788888888888888888887000000000007888888880008888888870000000000000000000000000000000000000000000000000000000000000
00000000000007888888888888888888888700000000078888888880008888888887000000000000000000000000000000000000000000000000000000000000
00000000000007878888887777778888878700000000078888888800000788888887000000000000000000000000000000000000000000000000000000000000
00000000000078877778778888887787778870000000788888887000000007888888700000000000000000000000000000000000000000000000000000000000
00000000000078877777888888888777778870000000788888000000000000088888700000000000000000000000000000000000000000000000000000000000
00000000000788877707888888888707778887000007888888000000000000000888870000000000000000000000000000000000000000000000000000000000
00000000000788888707888777788707888887000007888880000000000000000088870000000000000000000000000000000000000000000000000000000000
00000000000788888788887888878888788887000007888880000000000000000888870000000000000000000000000000000000000000000000000000000000
00000000000788888788878888887888788887000007888880000000000000000888870000000000000000000000000000000000000000000000000000000000
00000000000788888788878888887888788887000007888880000000000000007888870000000000000000000000000000000000000000000000000000000000
00000000000788888788878888887888788887000007888887000000000000007888870000000000000000000000000000000000000000000000000000000000
00000000000788888788887888878888788887000007888887800000000000087888870000000000000000000000000000000000000000000000000000000000
00000000000788888878888777788887888887000007888888700000000000878888870000000000000000000000000000000000000000000000000000000000
00000000000078888878888888888887888870000000788888000000000000878888700000000000000000000000000000000000000000000000000000000000
00000000000078888887888888888878888870000000788888000000000000788888700000000000000000000000000000000000000000000000000000000000
00000000000007888888778888887788888700000000078888800080000000888887000000000000000000000000000000000000000000000000000000000000
00000000000007888888887777778888888700000000078888880077700000888887000000000000000000000000000000000000000000000000000000000000
00000000000000788888888888888888887000000000007888888888888888888870000000000000000000000000000000000000000000000000000000000000
00000000000000077888888888888888770000000000000778888888888888887700000000000000000000000000000000000000000000000000000000000000
00000000000000000788888888888887000000000000000007888888888888870000000000000000000000000000000000000000000000000000000000000000
00000000000000000077788888887770000000000000000000777888888877700000000000000000000000000000000000000000000000000000000000000000
00000000000000000099077777770990000000000000000000990777777709900000000000000000000000000000000000000000000000000000000000000000
00000000000009999999000000000999999000000000099999990000000009999990000000000000000000000000000000000000000000000000000000000000
00000000000099999999000000000999999900000000999999990000000009999999000000000000000000000000000000000000000000000000000000000000
00000000000099999900000000000099999900000000999999000000000000999999000000000000000000000000000000000000000000000000000000000000
00000000000009990000000000000000999000000000099900000000000000009990000000000000000000000000000000000000000000000000000000000000
00000777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077aaaaaa770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007aaaaaaaaaa7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07aaaa4444aaaa700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07aa44aaaa44aa700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7aaa4aaaaaa4aaa70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7aa4aaaaaaaa4aa70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7aa4aaaaaaaa4aa70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7aa4aaaaaaaa4aa70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7aa4aaaaaaaa4aa70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7aaa4aaaaaa4aaa70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07aa44aaaa44aa700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07aaaa4444aaaa700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007aaaaaaaaaa7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077aaaaaa770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000777777000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
